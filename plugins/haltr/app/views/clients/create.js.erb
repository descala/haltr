/* Clear hidden form */
$('#new_client_wrapper').html('<%= escape_javascript(render(:partial =>'invoices/new_client', :locals=>{:context => "new_invoice"} )) %>');

/* Change client and re-bind client select*/
$('#client_select').html('<%= escape_javascript(render(:partial =>'invoices/clients',:locals=>{:selected=>@client.id})) %>');
$('select#invoice_client_id').bind('ajax:success', function(evt, data, status, xhr){
  $('#payment_stuff').html(xhr.responseText);
  terms();
})

/* Update payment stuff */
$('#payment_stuff').html('<%= escape_javascript(render(:partial => 'invoices/payment_stuff',:locals=>{:currency=>@client.currency,:payment_method=>@client.payment_method,:terms=>@client.terms})) %>');


$('#new_client_wrapper').hide();
